**Precondition:**

```python
3 <= len(state) < 100<br>
all(0 <= n < len(state) for n in pipe_numbers)
```